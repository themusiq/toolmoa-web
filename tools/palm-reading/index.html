<!doctype html><html lang="ko"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>íŒ”ìì†ê¸ˆ ì§„ë‹¨ê¸° | Toolmoa</title>
<link rel="stylesheet" href="/assets/css/base.css"/>
  <script defer src="/assets/js/ui-kit.js"></script>
<style>
.hand-wrap{position:relative;aspect-ratio:3/4;background:var(--card);
  border:1px solid var(--line);border-radius:16px;display:flex;align-items:center;justify-content:center;}
#hand{width:64%;max-width:360px;}
.line{stroke-linecap:round;stroke-width:8;fill:none;opacity:.9}
#drawCanvas{position:absolute;inset:0;cursor:crosshair}
</style>

  
</head>
  <body>

    <script src="/assets/js/theme.js"></script>
<script src="/assets/js/auto-wire.js"></script>

<header class="container" style="display:flex;justify-content:space-between;align-items:center">
  <a href="/" class="badge">ğŸ§° Toolmoa.kr</a>
  <button id="themeToggle" class="btn btn-ghost">ë‹¤í¬ëª¨ë“œ</button>
</header>

<main class="container" style="display:grid;gap:18px;grid-template-columns:1.1fr 1fr">
  <!-- ê¸°ë³¸ ëª¨ë“œ -->
  <section class="section">
    <h1>ğŸ–ï¸ íŒ”ìì†ê¸ˆ ì§„ë‹¨ê¸°</h1>
    <div class="card toggle" style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px">
      <div>
        <div class="badge">ìƒëª…ì„ </div>
        <button class="btn js-opt" data-k="life" data-v="short">ì§§ë‹¤</button>
        <button class="btn js-opt is-active" data-k="life" data-v="normal">ë³´í†µ</button>
        <button class="btn js-opt" data-k="life" data-v="long">ê¸¸ë‹¤</button>
      </div>
      <div>
        <div class="badge">ê°ì •ì„ </div>
        <button class="btn js-opt" data-k="heart" data-v="short">ì§§ë‹¤</button>
        <button class="btn js-opt is-active" data-k="heart" data-v="normal">ë³´í†µ</button>
        <button class="btn js-opt" data-k="heart" data-v="long">ê¸¸ë‹¤</button>
      </div>
      <div>
        <div class="badge">ë‘ë‡Œì„ </div>
        <button class="btn js-opt" data-k="head" data-v="short">ì§§ë‹¤</button>
        <button class="btn js-opt is-active" data-k="head" data-v="normal">ë³´í†µ</button>
        <button class="btn js-opt" data-k="head" data-v="long">ê¸¸ë‹¤</button>
      </div>
      <div>
        <div class="badge">ìš´ëª…ì„ </div>
        <button class="btn js-opt is-active" data-k="fate" data-v="none">ì—†ìŒ/ì•½í•¨</button>
        <button class="btn js-opt" data-k="fate" data-v="normal">ë³´í†µ</button>
        <button class="btn js-opt" data-k="fate" data-v="strong">ëšœë ·í•˜ë‹¤</button>
      </div>
    </div>

    <div class="hand-wrap" style="margin-top:12px">
      <!-- ì† SVG (ì†ëª© X, ì†ë°”ë‹¥ ì¤‘ì‹¬) -->
      <svg id="hand" viewBox="0 0 200 300">
        <path d="M90 290c-40-6-60-42-60-80 0-32 1-92 1-114 0-10 9-18 18-18 10 0 18 8 18 18v60
                 M116 38c10 0 18 8 18 18v66
                 M142 50c10 0 18 8 18 18v60
                 M66 46c10 0 18 8 18 18v70
                 M160 96c10 0 18 8 18 18v70
                 M90 290c40-6 80-42 80-80 0-24-2-45-10-60" 
              fill="#f7c9a6" stroke="#e0b79a" stroke-width="3"/>
        <!-- ê¸°ë³¸ ì„  ìœ„ì¹˜ -->
        <path id="line-heart" class="line" stroke="#3AA9FF" d="M50 140 C90 130, 120 130, 150 138"/>
        <path id="line-head"  class="line" stroke="#FFCC48" d="M46 165 C90 172, 120 172, 154 168"/>
        <path id="line-life"  class="line" stroke="#FF6F91" d="M70 190 C60 210, 70 235, 90 250"/>
        <path id="line-fate"  class="line" stroke="#4BD0B6" d="M112 172 L112 230"/>
      </svg>
      <canvas id="drawCanvas"></canvas>
    </div>

    <div class="card" id="analysis" style="margin-top:12px;color:var(--muted)">ì„  ê¸¸ì´ë¥¼ ì„ íƒí•˜ë©´ ê°„ëµ í•´ì„ì´ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤.</div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="btnDraw" class="btn">ê·¸ë ¤ì„œ ë¶„ì„</button>
      <a href="/" class="btn btn-ghost">í™ˆìœ¼ë¡œ</a>
    </div>
  </section>

  <!-- ì—…ë¡œë“œ(ì„ íƒ) -->
  <section class="section">
    <h2 class="badge">ê³ ê¸‰ ëª¨ë“œ (ì‚¬ì§„ ì—…ë¡œë“œ Â· ì„ íƒ)</h2>
    <div class="card" style="display:flex;gap:8px;align-items:center">
      <input id="file" type="file" accept="image/*" class="btn-ghost" style="padding:8px;border:1px solid var(--line);border-radius:10px;background:var(--card);color:var(--text)">
      <button id="analyzeUpload" class="btn btn-primary">ì—…ë¡œë“œ ë¶„ì„</button>
    </div>
    <div class="card" id="preview" style="height:260px;margin-top:10px;display:flex;align-items:center;justify-content:center;color:var(--muted)">
      ì—…ë¡œë“œ ì „ ê°„ë‹¨í•œ ëŒ€ë¹„/ë°ê¸° ê°•ì¡°ë¡œ ì„ ëª…ë„ë¥¼ ì˜¬ë ¤ ë³´ì—¬ì¤ë‹ˆë‹¤.
    </div>
    <div id="ad-area"><div id="coupang-slot"></div></div>
  </section>
</main>

<script src="/assets/js/theme.js" defer></script>
<script>
// ë²„íŠ¼ í™œì„± í‘œì‹œ & ì„  ê¸¸ì´ ë°˜ì‘
const state = { life:'normal', heart:'normal', head:'normal', fate:'none' };
document.querySelectorAll('.js-opt').forEach(b=>{
  b.addEventListener('click',()=>{
    const k=b.dataset.k, v=b.dataset.v;
    state[k]=v;
    // active
    b.parentElement.querySelectorAll('.btn').forEach(x=>x.classList.remove('is-active'));
    b.classList.add('is-active');
    redraw();
  });
});

function redraw(){
  // ê¸°ì¤€ ì¢Œí‘œ
  const heart = document.getElementById('line-heart');
  const head  = document.getElementById('line-head');
  const life  = document.getElementById('line-life');
  const fate  = document.getElementById('line-fate');

  // ê°ì •ì„ 
  heart.setAttribute('d', state.heart==='short'
       ? 'M60 138 C90 130, 110 130, 135 136'
       : state.heart==='long'
       ? 'M40 140 C90 130, 125 130, 160 138'
       : 'M50 140 C90 130, 120 130, 150 138');

  // ë‘ë‡Œì„ 
  head.setAttribute('d', state.head==='short'
       ? 'M58 165 C90 172, 110 172, 138 168'
       : state.head==='long'
       ? 'M38 165 C90 172, 125 172, 166 168'
       : 'M46 165 C90 172, 120 172, 154 168');

  // ìƒëª…ì„ 
  life.setAttribute('d', state.life==='short'
       ? 'M78 190 C68 205, 76 228, 90 242'
       : state.life==='long'
       ? 'M64 190 C54 215, 66 245, 96 262'
       : 'M70 190 C60 210, 70 235, 90 250');

  // ìš´ëª…ì„ 
  fate.style.display = (state.fate==='none') ? 'none' : '';
  fate.setAttribute('d', state.fate==='strong' ? 'M112 162 L112 245' : 'M112 172 L112 230');

  // ê°„ë‹¨ í•´ì„
  const txt = [];
  if(state.life==='long') txt.push('ìƒëª…ì„ ì´ ê¸¸ì–´ ì²´ë ¥ê³¼ íšŒë³µë ¥ì´ ì¢‹ìŠµë‹ˆë‹¤.');
  if(state.life==='short') txt.push('ìƒëª…ì„ ì´ ì§§ì•„ í”¼ë¡œ ê´€ë¦¬ì— ì‹ ê²½ ì“°ë©´ ì¢‹ì•„ìš”.');
  if(state.heart==='long') txt.push('ê°ì • í‘œí˜„ì´ í’ë¶€í•˜ê³  ì¸ê°„ê´€ê³„ ìš´ì´ ì¢‹ìŠµë‹ˆë‹¤.');
  if(state.head==='long') txt.push('ë‘ë‡Œì„ ì´ ê¸¸ì–´ ì§‘ì¤‘ë ¥ê³¼ ë¶„ì„ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.');
  if(state.fate==='strong') txt.push('ìš´ëª…ì„ ì´ ëšœë ·í•´ ì»¤ë¦¬ì–´ ìš´ì´ ê°•í•©ë‹ˆë‹¤.');
  document.getElementById('analysis').textContent = txt.length? txt.join(' ') : 'ì„  ê¸¸ì´ë¥¼ ì„ íƒí•˜ë©´ ê°„ëµ í•´ì„ì´ í‘œì‹œë©ë‹ˆë‹¤.';
}
redraw();

// ê·¸ë ¤ì„œ ë¶„ì„(ê°„ë‹¨): ì‚¬ìš©ìê°€ ì„ ì„ ê·¸ë¦¬ë©´ ê¸¸ì´/ê¸°ìš¸ê¸°ë¥¼ ì½ì–´ ëŒ€ëµ ë¶„ë¥˜
const cvs = document.getElementById('drawCanvas');
const ctx = cvs.getContext('2d');
function fit(){ cvs.width=cvs.clientWidth; cvs.height=cvs.clientHeight; }
new ResizeObserver(fit).observe(cvs);
let drawing=false, pts=[];
document.getElementById('btnDraw').addEventListener('click',()=>{
  alert('ì†ë°”ë‹¥ ìœ„ì— ì„ ì„ í•˜ë‚˜ ê·¸ë ¤ ë³´ì„¸ìš”. ê¸¸ì´/ê¸°ìš¸ê¸°ë¥¼ ê°„ë‹¨ ë¶„ì„í•©ë‹ˆë‹¤.');
});
cvs.addEventListener('pointerdown',e=>{drawing=true;pts=[[e.offsetX,e.offsetY]];});
cvs.addEventListener('pointermove',e=>{
  if(!drawing) return;
  pts.push([e.offsetX,e.offsetY]);
  ctx.clearRect(0,0,cvs.width,cvs.height);
  ctx.strokeStyle='rgba(123,97,255,.9)';ctx.lineWidth=6;ctx.lineCap='round';
  ctx.beginPath(); ctx.moveTo(pts[0][0],pts[0][1]);
  for(const p of pts) ctx.lineTo(p[0],p[1]); ctx.stroke();
});
cvs.addEventListener('pointerup',()=>{
  drawing=false;
  if(pts.length<2) return;
  // ê°„ë‹¨ ê¸¸ì´/ê°ë„ ê³„ì‚°
  const dx = pts[pts.length-1][0]-pts[0][0];
  const dy = pts[pts.length-1][1]-pts[0][1];
  const len = Math.hypot(dx,dy);
  const angle = Math.atan2(dy,dx)*(180/Math.PI);
  let msg = `ê·¸ë¦° ì„  ê¸¸ì´ ${Math.round(len)}px, ê°ë„ ${Math.round(angle)}Â°. `;
  if(len>cvs.width*0.55) msg += '=> ê¸´ ì„ (ì§‘ì¤‘ë ¥/ì§€êµ¬ë ¥â†‘).';
  else if(len<cvs.width*0.3) msg += '=> ì§§ì€ ì„ (ì§‘ì¤‘ë ¥/ì§€êµ¬ë ¥â†“).';
  else msg += '=> ë³´í†µ ê¸¸ì´.';
  document.getElementById('analysis').textContent = msg;
});
</script>
<script src="/assets/js/ads-coupang.js" defer></script>
 <script src="/assets/js/ui-kit.js"></script>   
</body></html>
