<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Toolmoa.kr – 간단하지만 강력한 생활 도구</title>

  <!-- SEO 기본 -->
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://toolmoa.kr/">

  <!-- 사이트 설명 (네이버 ‘사이트 설명’ 경고 해결) -->
  <meta name="description" content="Toolmoa.kr는 일상에서 바로 쓰는 계산·운세·확률·생성형 웹툴을 한 곳에 모아 빠르게 제공합니다.">

  <!-- OG / Twitter (네이버 ‘Open Graph’ 경고 해결) -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Toolmoa.kr">
  <meta property="og:title" content="Toolmoa.kr – 간단하지만 강력한 생활 도구">
  <meta property="og:description" content="일상에서 바로 쓰는 계산·운세·확률·생성형 웹툴 모음. 한 번에 빠르게!">
  <meta property="og:url" content="https://toolmoa.kr/">
  <!-- 아래 이미지를 실제 경로에 두세요: /assets/og/toolmoa-og.png (1200×630 이상 권장) -->
  <meta property="og:image" content="https://toolmoa.kr/assets/og/toolmoa-og.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Toolmoa.kr – 간단하지만 강력한 생활 도구">
  <meta name="twitter:description" content="일상에서 바로 쓰는 계산·운세·확률·생성형 웹툴 모음. 한 번에 빠르게!">
  <meta name="twitter:image" content="https://toolmoa.kr/assets/og/toolmoa-og.png">

  <!-- (선택) 네이버 서치어드바이저 소유확인 메타: 발급받으면 주석 제거
  <meta name="naver-site-verification" content="발급코드붙여넣기">
  -->

  <!-- 공통 스타일 -->
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/assets/css/base.css"/>

  <style>
    :root { --dashboard-max: 1100px; }
    .wrap { max-width: var(--dashboard-max); margin: 0 auto; }
    .site-header { display:flex; align-items:center; justify-content:space-between; padding:16px 0; }
    .brand { display:flex; align-items:center; gap:10px; font-weight:700; }
    .brand a { text-decoration:none; color:inherit; }
    .brand .logo { font-size:22px; }
    .brand .name { font-size:20px; }

    .notice-sponsor { display:flex; gap:16px; flex-wrap:wrap; }
    .notice-sponsor .col { flex:1 1 360px; }

    /* 카드 그리드 – 빽빽함 ↓, 여유 ↑ */
    #toolGrid {
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    .tool-card { display:flex; flex-direction:column; gap:10px; text-decoration:none; color:inherit; }
    .tool-card .desc { color: var(--muted); min-height: 38px; }
    .tool-card .cta { margin-top:6px; }

    footer { text-align:center; color:var(--muted); padding:28px 0 40px; }
  </style>

  <!-- 스키마(Organization) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Toolmoa.kr",
    "url":"https://toolmoa.kr/",
    "logo":"https://toolmoa.kr/assets/og/toolmoa-og.png"
  }
  </script>
</head>
<body>
  <header class="wrap site-header">
    <div class="brand">
      <span class="logo">🧰</span>
      <a href="/" class="name" aria-label="Toolmoa.kr 홈으로">Toolmoa.kr</a>
    </div>
    <button id="themeToggle" class="btn btn-ghost" aria-pressed="false">다크모드</button>
  </header>

  <main class="wrap" style="display:flex; flex-direction:column; gap:24px">
    <!-- 안내 & 스폰서 -->
    <section class="section">
      <div class="card notice-sponsor">
        <div class="card col">
          <div class="badge">안내 & 스폰서</div>
          <p style="margin-top:10px;color:var(--muted)">
            간단한 생활 도구를 모아 둔 공간입니다. 매주 1~2개의 웹툴이 추가됩니다.<br/>
            화면 하단의 <b>스폰서 배너</b> 클릭은 사이트 운영에 큰 힘이 됩니다 🙏
          </p>
        </div>
        <!-- 우측 고정 배너 슬롯 -->
        <div class="card col" style="min-height:72px;display:flex;align-items:center;justify-content:center;color:var(--muted)">
          (스폰서 고정 배너 자리)
        </div>
      </div>
    </section>

    <!-- 전체 도구 -->
    <section class="section">
      <h2 style="margin:0 0 8px 0">전체 도구</h2>
      <div id="toolGrid"></div>
    </section>

    <!-- 광고(하단 1회만) -->
    <section id="ad-area" class="section">
      <div id="coupang-slot"></div>
    </section>
  </main>

  <footer class="wrap">© 2025 Toolmoa.kr</footer>

  <!-- 테마 스크립트 (토글 즉시 작동 + 로컬 저장) -->
  <script>
    (function themeInit(){
      const key='toolmoa-theme';
      const root=document.documentElement;
      const btn=document.getElementById('themeToggle');
      const set=(m)=>{ root.dataset.theme=m; btn.textContent = (m==='dark'?'일반모드':'다크모드'); btn.setAttribute('aria-pressed', m==='dark'); localStorage.setItem(key,m); };
      set(localStorage.getItem(key) || 'dark');   // 기본 다크
      btn.addEventListener('click', ()=> set(root.dataset.theme==='dark'?'light':'dark'));
    })();
  </script>

  <!-- 공통(툴 목록 렌더링) -->
  <script>
    (async function () {
      try {
        const res = await fetch('/data/tools.json', { cache: 'no-store' });
        const tools = await res.json();
        const grid = document.getElementById('toolGrid');

        if (!Array.isArray(tools) || tools.length === 0) {
          grid.innerHTML = '<div class="card">등록된 도구가 없습니다.</div>';
          return;
        }

        grid.innerHTML = tools.map(t => `
          <a class="card tool-card" href="${t.href}">
            <div class="badge"><span>${t.icon || '🧩'}</span> ${t.name}</div>
            <div class="desc">${t.desc || ''}</div>
            <div class="cta"><button class="btn btn-primary">바로 사용</button></div>
          </a>
        `).join('');
      } catch (e) {
        console.error(e);
        document.getElementById('toolGrid').innerHTML =
          '<div class="card">도구 목록을 불러오지 못했습니다.</div>';
      }
    })();
  </script>

  <!-- 쿠팡 광고: 중복 주입 방지 -->
  <script>
    (function ensureCoupangOnce(){
      if (window.__coupangOnce) return;
      window.__coupangOnce = true;
      const slot = document.getElementById('coupang-slot');
      if (slot) slot.innerHTML = '';
      var s = document.createElement('script');
      s.src = '/assets/js/ads-coupang.js';
      s.defer = true;
      document.body.appendChild(s);
    })();
  </script>
</body>
</html>
